{% props tracks = [] %}

<div {{ attributes.defaults({
    'data-controller': 'music-player',
    'data-music-player-hidden-class': 'hidden',
}) }}
        data-music-player-tracks-value="{{ tracks|json_encode }}">
    <div class="grid">
        <audio data-music-player-target="audio" preload="metadata"></audio>
        <img data-music-player-target="artwork" src="" alt="" class="size-60">
        <div data-music-player-target="title"></div>
        <div data-music-player-target="artist"></div>
        <div class="flex">
            <div data-music-player-target="currentTime">0:00</div>
            <input data-music-player-target="progress" type="range" min="0" value="0"/>
            <div data-music-player-target="duration">0:30</div>
        </div>
        <div>
            <input data-music-player-target="volume" type="range" min="0" max="100" value="80">
        </div>
        <div class="flex gap-2">
            <button data-action="music-player#mute">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                     fill="none" stroke-linecap="round" stroke-linejoin="round" class="size-6">
                    <g data-music-player-target="muteIcon">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <path d="M15 8a5 5 0 0 1 0 8"></path>
                        <path d="M17.7 5a9 9 0 0 1 0 14"></path>
                        <path d="M6 15h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l3.5 -4.5a.8 .8 0 0 1 1.5 .5v14a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5"></path>
                    </g>
                    <g data-music-player-target="unmuteIcon"
                       class="hidden">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <path d="M15 8a5 5 0 0 1 1.912 4.934m-1.377 2.602a5 5 0 0 1 -.535 .464"></path>
                        <path d="M17.7 5a9 9 0 0 1 2.362 11.086m-1.676 2.299a9 9 0 0 1 -.686 .615"></path>
                        <path d="M9.069 5.054l.431 -.554a.8 .8 0 0 1 1.5 .5v2m0 4v8a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l1.294 -1.664"></path>
                        <path d="M3 3l18 18"></path>
                    </g>
                </svg>
            </button>

            <button data-action="music-player#prev">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                     fill="none" class="size-6"
                     stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                    <path d="M21 5v14l-8 -7z"></path>
                    <path d="M10 5v14l-8 -7z"></path>
                </svg>
            </button>

            <button data-action="music-player#playPause">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                    <path data-music-player-target="playIcon"
                          fill-rule="evenodd"
                          d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm14.024-.983a1.125 1.125 0 0 1 0 1.966l-5.603 3.113A1.125 1.125 0 0 1 9 15.113V8.887c0-.857.921-1.4 1.671-.983l5.603 3.113Z"
                          clip-rule="evenodd"></path>
                    <path data-music-player-target="pauseIcon"
                          fill-rule="evenodd"
                          class="hidden"
                          d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM9 8.25a.75.75 0 0 0-.75.75v6c0 .414.336.75.75.75h.75a.75.75 0 0 0 .75-.75V9a.75.75 0 0 0-.75-.75H9Zm5.25 0a.75.75 0 0 0-.75.75v6c0 .414.336.75.75.75H15a.75.75 0 0 0 .75-.75V9a.75.75 0 0 0-.75-.75h-.75Z"
                          clip-rule="evenodd"></path>
                </svg>
            </button>

            <button data-action="music-player#next">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                     fill="none" class="size-6"
                     stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                    <path d="M3 5v14l8 -7z"></path>
                    <path d="M14 5v14l8 -7z"></path>
                </svg>
            </button>

            <button data-action="music-player#repeat">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                     fill="none" stroke-linecap="round" stroke-linejoin="round" class="size-6">
                    <g data-music-player-target="repeatIcon">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <path d="M4 12v-3a3 3 0 0 1 3 -3h13m-3 -3l3 3l-3 3"></path>
                        <path d="M20 12v3a3 3 0 0 1 -3 3h-13m3 3l-3 -3l3 -3"></path>
                    </g>
                    <g data-music-player-target="repeatOffIcon"
                       class="hidden">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <path d="M4 12v-3c0 -1.336 .873 -2.468 2.08 -2.856m3.92 -.144h10m-3 -3l3 3l-3 3"></path>
                        <path d="M20 12v3a3 3 0 0 1 -.133 .886m-1.99 1.984a3 3 0 0 1 -.877 .13h-13m3 3l-3 -3l3 -3"></path>
                        <path d="M3 3l18 18"></path>
                    </g>
                </svg>
            </button>
        </div>
    </div>
</div>
